(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{348:function(_,v,e){_.exports=e.p+"assets/img/handshaking.69fe1161.jpg"},373:function(_,v,e){"use strict";e.r(v);var t=e(42),o=Object(t.a)({},(function(){var _=this,v=_.$createElement,t=_._self._c||v;return t("ContentSlotsDistributor",{attrs:{"slot-key":_.$parent.slotKey}},[t("h1",{attrs:{id:"http传输流程"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#http传输流程"}},[_._v("#")]),_._v(" HTTP传输流程")]),_._v(" "),t("h3",{attrs:{id:"三次握手"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#三次握手"}},[_._v("#")]),_._v(" 三次握手")]),_._v(" "),t("p",[_._v("为了准确无误地将数据送达目标处，TCP 协议采用了"),t("strong",[_._v("三次握手")]),_._v("（three-way handshaking）策略。用 TCP 协议把数据包送出去后，TCP不会对传送后的情况置之不理，它一定会向对方确认是否成功送达。")]),_._v(" "),t("p",[_._v("之所以"),t("strong",[_._v("3次握手")]),_._v("是因为通信双方需要明确对方收发能力正常。")]),_._v(" "),t("p",[t("code",[_._v("第一次握手")]),_._v("：发送端发送信息给接收端。确认发送端的发送能力，接收端的接收能力正常。")]),_._v(" "),t("p",[t("code",[_._v("第二次握手")]),_._v("：接收端发送信息给发送端。确认发送端的接收能力正常，接收端的发送能力也正常。")]),_._v(" "),t("p",[t("code",[_._v("第三次握手")]),_._v("：发送端发送信息给接收端。告知一切正常。")]),_._v(" "),t("p",[_._v("第三次握手已经可以传递数据包了。")]),_._v(" "),t("p",[_._v("3次握手用于连接建立阶段。")]),_._v(" "),t("h3",{attrs:{id:"_4次挥手"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4次挥手"}},[_._v("#")]),_._v(" 4次挥手")]),_._v(" "),t("p",[_._v("4次挥手又名"),t("strong",[_._v("连接终止协议")]),_._v("。")]),_._v(" "),t("p",[t("code",[_._v("第一次挥手")]),_._v("：客户端打算关闭连接，此时会发送一个 TCP 首部 "),t("code",[_._v("FIN")]),_._v(" 标志位被置为 "),t("code",[_._v("1")]),_._v(" 的报文，也即 "),t("code",[_._v("FIN")]),_._v(" 报文，之后客户端进入 "),t("code",[_._v("FIN_WAIT_1")]),_._v(" 状态。")]),_._v(" "),t("p",[t("code",[_._v("第二次挥手")]),_._v("：服务端收到该报文后，就向客户端发送 "),t("code",[_._v("ACK")]),_._v(" 应答报文，接着服务端进入 "),t("code",[_._v("CLOSED_WAIT")]),_._v(" 状态。客户端收到服务端的 "),t("code",[_._v("ACK")]),_._v(" 应答报文后，之后进入 "),t("code",[_._v("FIN_WAIT_2")]),_._v(" 状态。")]),_._v(" "),t("p",[t("code",[_._v("第三次挥手")]),_._v("：等待服务端处理完数据后，也向客户端发送 "),t("code",[_._v("FIN")]),_._v(" 报文，之后服务端进入 "),t("code",[_._v("LAST_ACK")]),_._v(" 状态。")]),_._v(" "),t("p",[t("code",[_._v("第四次挥手")]),_._v("：客户端收到服务端的 "),t("code",[_._v("FIN")]),_._v(" 报文后，回一个 "),t("code",[_._v("ACK")]),_._v(" 应答报文，之后进入 "),t("code",[_._v("TIME_WAIT")]),_._v(" 状态。")]),_._v(" "),t("p",[_._v("服务器接收到"),t("code",[_._v("ACK")]),_._v("，进入"),t("code",[_._v("CLOSE")]),_._v("，至此接收端已经完成连接的关闭。\n发送端在经过 "),t("code",[_._v("2MSL")]),_._v(" 一段时间后，自动进入 "),t("code",[_._v("CLOSE")]),_._v(" 状态，至此发送端也完成连接的关闭。")]),_._v(" "),t("p",[_._v("之所以需要4次挥手，是因为服务端通常需要等待完成数据的发送和处理，所以服务端的 "),t("code",[_._v("ACK")]),_._v(" 和 "),t("code",[_._v("FIN")]),_._v(" 一般都会分开发送。所以会比3次握手多了一次。")]),_._v(" "),t("p",[t("img",{attrs:{src:e(348),alt:""}})]),_._v(" "),t("p",[_._v("HTTP数据传输流程。")]),_._v(" "),t("h3",{attrs:{id:"为什么使用https"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#为什么使用https"}},[_._v("#")]),_._v(" 为什么使用https")]),_._v(" "),t("p",[_._v("用 "),t("code",[_._v("SSL")]),_._v("建立安全通信线路之后，就可以在这条线路上进行 "),t("code",[_._v("HTTP")]),_._v("通信了。与 SSL组合使用的 "),t("code",[_._v("HTTP")]),_._v(" 被称为 "),t("code",[_._v("HTTPS")]),_._v("。")]),_._v(" "),t("p",[_._v("通常，"),t("code",[_._v("HTTP")]),_._v(" 直接和 "),t("code",[_._v("TCP")]),_._v(" 通信。当使用 "),t("code",[_._v("SSL")]),_._v(" 时，则演变成先和 "),t("code",[_._v("SSL")]),_._v("通信，再由 "),t("code",[_._v("SSL")]),_._v("和 "),t("code",[_._v("TCP")]),_._v(" 通信了。简言之，所谓 "),t("code",[_._v("HTTPS")]),_._v("，其实就是身披"),t("code",[_._v("SSL")]),_._v("协议这层外壳的 "),t("code",[_._v("HTTP")]),_._v("。")]),_._v(" "),t("p",[t("code",[_._v("HTTPS")]),_._v(" 解决了"),t("code",[_._v("HTTP")]),_._v("的这些不足。")]),_._v(" "),t("ul",[t("li",[_._v("通信使用明文（不加密），内容可能会被窃听("),t("code",[_._v("https")]),_._v(" 会通过 "),t("code",[_._v("SSL")]),_._v("建立安全的通信线路，实现通信加密。)")]),_._v(" "),t("li",[_._v("不验证通信方的身份，因此有可能遭遇伪装("),t("code",[_._v("https")]),_._v(" 使用了一种被称为证书的手段，可用于确定方。)")]),_._v(" "),t("li",[_._v("无法证明报文的完整性，所以有可能已遭篡改("),t("code",[_._v("https")]),_._v("提供认证和加密处理及摘要功能。)")])]),_._v(" "),t("p",[_._v("HTTP+ 加密 + 认证 + 完整性保护 = HTTPS")])])}),[],!1,null,null,null);v.default=o.exports}}]);